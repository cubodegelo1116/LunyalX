<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lunyal X Server Side</title>
<link rel="icon" type="image/png" href="https://cdn.discordapp.com/icons/1437834972496138362/d9cf5ac311216a794e297a3b3d388755.webp?size=128">
<style>
* {margin:0; padding:0; box-sizing:border-box; user-select:none;}

@keyframes fade {
    from {opacity:0;}
    to {opacity:1;}
}

@keyframes floatUp {
    0%, 100% {transform: translateY(0);}
    50% {transform: translateY(-5px);}
}

body {
    font-family: "Segoe UI", Arial, sans-serif;
    color:#fff;
    background:linear-gradient(140deg, #3d8bff, #000015);
    min-height:100vh;
    display:flex;
    flex-direction:column;
}

header {
    width:100%;
    padding:15px 30px;
    background:rgba(255,255,255,0.05);
    border-bottom:1px solid rgba(255,255,255,0.08);
    backdrop-filter:blur(12px);
    display:flex;
    justify-content:space-between;
    align-items:center;
    position: sticky;
    top: 0;
    z-index: 100;
}

.logo img {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    cursor: pointer;
}

nav {display:flex; gap:15px; flex-wrap:wrap;}

nav button {
    background:rgba(255,255,255,0.06);
    border:1px solid rgba(255,255,255,0.15);
    color:#fff;
    padding:8px 14px;
    font-size:0.95rem;
    border-radius:8px;
    cursor:pointer;
    transition:0.25s;
}

nav button:hover {
    background:rgba(122,255,210,0.2);
    border-color:#7fffd4;
    box-shadow:0 0 10px rgba(127,255,212,0.5);
}

nav button.active {
    background:rgba(122,255,210,0.2);
    border-color:#7fffd4;
    box-shadow:0 0 10px rgba(127,255,212,0.5);
}

main {
    flex:1;
    width:100%;
    max-width:1100px;
    margin:0 auto;
    padding:40px 20px;
}

.content {
    display:none;
    background:rgba(255,255,255,0.07);
    padding:30px;
    border-radius:15px;
    box-shadow:0 0 15px rgba(0,0,0,0.25);
    backdrop-filter:blur(10px);
    animation:fade 0.4s ease;
}

.content.active {display:block;}

.btn {
    background:#7fffd4;
    color:#000;
    border:none;
    padding:10px 18px;
    border-radius:8px;
    cursor:pointer;
    font-weight:600;
    transition:0.25s;
    margin-right:10px;
    margin-bottom:10px;
}

.btn:hover {
    background:#64ccb8;
}

.btn.secondary {
    background:rgba(255,255,255,0.1);
    color:#fff;
    border:1px solid rgba(255,255,255,0.15);
}

.btn.secondary:hover {
    background:rgba(122,255,210,0.2);
    border-color:#7fffd4;
    box-shadow:0 0 10px rgba(127,255,212,0.5);
}

.btn.danger {
    background:#ff6b6b;
    color:#fff;
}

.btn.danger:hover {
    background:#ff5252;
}

input, textarea {
    padding:9px 12px;
    width:100%;
    max-width:400px;
    border-radius:7px;
    border:1px solid rgba(255,255,255,0.25);
    background:rgba(255,255,255,0.12);
    color:white;
    outline:none;
    margin-bottom:10px;
    font-family: "Segoe UI", Arial, sans-serif;
}

textarea {
    min-height:100px;
    resize:vertical;
}

input:focus, textarea:focus {
    border-color:#7fffd4;
    box-shadow:0 0 8px rgba(127,255,212,0.4);
}

.msg {
    margin-top:10px;
    padding:10px;
    border-radius:8px;
    display:none;
}

.msg.show {display:block;}

.msg.success {
    background:rgba(80, 255, 160, 0.2);
    color:#7fffd4;
}

.msg.error {
    background:rgba(255, 50, 50, 0.2);
    color:#ff6b6b;
}

h1 {margin-bottom:10px;}
h3 {margin-bottom:15px;}

.script-grid, .games-grid {
    display:grid;
    grid-template-columns:repeat(auto-fit, minmax(300px, 1fr));
    gap:20px;
    margin-top:20px;
}

.script-card, .game-card {
    background:rgba(255,255,255,0.06);
    border:1px solid rgba(255,255,255,0.1);
    padding:20px;
    border-radius:12px;
    transition:0.25s;
}

.script-card:hover, .game-card:hover {
    background:rgba(255,255,255,0.12);
    box-shadow:0 0 20px rgba(122,255,210,0.4);
    border-color:#7fffd4;
}

.script-card h3, .game-card h3 {
    margin-bottom:10px;
    color:#7fffd4;
}

.script-preview {
    background:rgba(0,0,0,0.3);
    padding:10px;
    border-radius:8px;
    font-family:monospace;
    font-size:0.8rem;
    max-height:100px;
    overflow-y:auto;
    margin-bottom:10px;
    border-left:3px solid #7fffd4;
}

.script-author {
    opacity:0.7;
    font-size:0.85rem;
    margin-bottom:10px;
}
</style>
</head>
<body>

<header>
<div class="logo">
    <img src="https://cdn.discordapp.com/icons/1437834972496138362/d9cf5ac311216a794e297a3b3d388755.webp?size=64" onclick="showTab('home')">
</div>
<nav>
    <button class="nav-btn active" data-tab="home">Home</button>
    <button class="nav-btn" data-tab="tos">TOS</button>
    <button class="nav-btn" data-tab="plans">Plans</button>
    <button class="nav-btn" data-tab="showcases">Showcases</button>
    <button class="nav-btn" data-tab="faq">FAQ</button>
    <button class="nav-btn" data-tab="dashboard">Dashboard</button>
    <button class="nav-btn" id="devPanelTab" data-tab="devpanel" style="display:none;">Dev Panel</button>
    <button onclick="window.open('https://discord.gg/K9RMZBdB2w','_blank')">Discord</button>
</nav>
</header>

<main>

<div class="content active" id="home">
<h1>Lunyal X Server Side</h1>
<p style="color:#7fffd4; font-size:1.2rem; margin-bottom:30px;">The Best Cheapest Serverside</p>
<button class="btn" onclick="showTab('showcases')" style="margin-top:20px;">Showcases</button>
</div>

<div class="content" id="tos">
<h1>Terms of Service</h1>
<p>No Map Changing, No Dex, No HappyHub or K00pGui, No Toxic Behavior, No Banning/Kicking</p>
</div>

<div class="content" id="plans">
<h1>Plans</h1>
<p>Free Plan - Full script access via Discord</p>
</div>

<div class="content" id="showcases">
<h1>Showcases</h1>
<p>Coming soon...</p>
</div>

<div class="content" id="faq">
<h1>FAQ</h1>
<p>Coming soon...</p>
</div>

<div class="content" id="dashboard">
<h1>Dashboard</h1>

<div id="mainMenu">
<h3>Choose an option:</h3>
<button class="btn" onclick="showCreateAccount()">Create Account</button>
<button class="btn" onclick="showLogin()">Login</button>
<button class="btn" id="devLoginBtn" onclick="showDevLogin()" style="display:none;">Dev Login</button>
</div>

<div id="createBox" style="display:none;">
<h3>Create Account</h3>
<input id="createUser" placeholder="Username">
<input id="createPass" placeholder="Password" type="password">
<button class="btn" onclick="createAccount()">Create</button>
<button class="btn secondary" onclick="backMenu()">Back</button>
<div id="createMsg" class="msg"></div>
</div>

<div id="loginBox" style="display:none;">
<h3>Login</h3>
<input id="loginUser" placeholder="Username">
<input id="loginPass" placeholder="Password" type="password">
<button class="btn" onclick="doLogin()">Login</button>
<button class="btn secondary" onclick="backMenu()">Back</button>
<div id="loginMsg" class="msg"></div>
</div>

<div id="devBox" style="display:none;">
<h3>Developer Login</h3>
<p style="opacity:0.8; margin-bottom:10px;">Username: RC7REMAKERYTT, enzopiticopileko, or T4lon0x</p>
<input id="devUser" placeholder="Username">
<input id="devKeyInput" placeholder="Dev Key" type="password">
<button class="btn" onclick="devLoginFunc()">Dev Login</button>
<button class="btn secondary" onclick="backMenu()">Back</button>
<div id="devMsg" class="msg"></div>
</div>

<div id="tosBox" style="display:none;">
<h1>Terms of Service</h1>
<p>By using this service you agree to all terms</p>
<button class="btn" onclick="agreeToS()" style="margin-top:20px;">I Agree</button>
</div>

<div id="userBox" style="display:none;">
<div style="background:rgba(122,255,210,0.1); padding:20px; border-radius:12px; border:1px solid rgba(122,255,210,0.3); margin-bottom:20px;">
<h2 id="userWelcome"></h2>
<p style="margin:10px 0; opacity:0.9;">You are logged in.</p>
<button class="btn danger" onclick="logoutFunc()">Logout</button>
</div>

<div style="display:flex; gap:10px; margin-bottom:20px;">
<button class="btn" onclick="openDashTab('scriptlibrary')">üìö Script Library</button>
<button class="btn" onclick="openDashTab('games')">üéÆ Games</button>
</div>

<div id="scriptlibrary" style="display:none;">
<button class="btn secondary" onclick="closeDashTab()" style="margin-bottom:20px;">‚Üê Back</button>
<h3>Script Library</h3>
<p style="margin-bottom:20px;">Shared scripts by developers.</p>

<div id="scriptFormBox" style="display:none; background:rgba(122,255,210,0.08); padding:20px; border-radius:12px; margin-bottom:20px;">
<h4>Post a Script</h4>
<input id="scriptName" placeholder="Script Name">
<textarea id="scriptCode" placeholder="Paste your script here..."></textarea>
<button class="btn" onclick="postScript()">Post Script</button>
<div id="scriptMsg" class="msg"></div>
</div>

<div id="scriptDevOnly" style="background:rgba(122,255,210,0.1); padding:20px; border-radius:12px; margin-bottom:20px; display:none;">
<p style="color:#7fffd4;">üìù Dev-only feature. You need dev access to post scripts.</p>
</div>

<div id="scriptsList" class="script-grid"></div>
</div>

<div id="games" style="display:none;">
<button class="btn secondary" onclick="closeDashTab()" style="margin-bottom:20px;">‚Üê Back</button>
<h3>Games</h3>
<p style="margin-bottom:20px;">Roblox games shared by developers.</p>

<div id="gameFormBox" style="display:none; background:rgba(122,255,210,0.08); padding:20px; border-radius:12px; margin-bottom:20px;">
<h4>Post a Game</h4>
<input id="gameName" placeholder="Game Name">
<input id="gameLink" placeholder="Roblox Game Link (https://www.roblox.com/games/...)">
<button class="btn" onclick="postGame()">Post Game</button>
<div id="gameMsg" class="msg"></div>
</div>

<div id="gameDevOnly" style="background:rgba(122,255,210,0.1); padding:20px; border-radius:12px; margin-bottom:20px; display:none;">
<p style="color:#7fffd4;">üéÆ Dev-only feature. You need dev access to post games.</p>
</div>

<div id="gamesList" class="games-grid"></div>
</div>

</div>
</div>

<div class="content" id="devpanel">
<h1>Developer Panel</h1>
<button class="btn" onclick="loadAccounts()">Load Accounts</button>
<div id="accountsList" style="margin-top:20px;"></div>
</div>

</main>

<script>
let scripts = [];
let games = [];
const devNames = ["RC7REMAKERYTT", "enzopiticopileko", "T4lon0x"];

document.querySelectorAll('.nav-btn').forEach(btn => {
    btn.addEventListener('click', () => showTab(btn.dataset.tab));
});

function showTab(tabName) {
    document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
    document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
    document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
    document.getElementById(tabName).classList.add('active');
    if(tabName === 'dashboard') closeDashTab();
}

function msg(elementId, text, type) {
    const el = document.getElementById(elementId);
    if(!el) return;
    el.textContent = text;
    el.className = `msg show ${type}`;
}

function showCreateAccount() {
    document.getElementById('mainMenu').style.display = 'none';
    document.getElementById('createBox').style.display = 'block';
}

function showLogin() {
    document.getElementById('mainMenu').style.display = 'none';
    document.getElementById('loginBox').style.display = 'block';
}

function showDevLogin() {
    document.getElementById('mainMenu').style.display = 'none';
    document.getElementById('devBox').style.display = 'block';
}

function backMenu() {
    document.getElementById('mainMenu').style.display = 'block';
    document.getElementById('createBox').style.display = 'none';
    document.getElementById('loginBox').style.display = 'none';
    document.getElementById('devBox').style.display = 'none';
    document.getElementById('tosBox').style.display = 'none';
    document.getElementById('devUser').disabled = false;
}

async function createAccount() {
    const user = document.getElementById('createUser').value.trim();
    const pass = document.getElementById('createPass').value.trim();
    if (!user || !pass) {msg('createMsg', 'Fill all fields', 'error'); return;}
    localStorage.setItem('username', user);
    localStorage.setItem('isDev', 'false');
    msg('createMsg', '‚úì Account created! Read ToS', 'success');
    setTimeout(() => {
        document.getElementById('createBox').style.display = 'none';
        document.getElementById('tosBox').style.display = 'block';
    }, 500);
}

async function doLogin() {
    const user = document.getElementById('loginUser').value.trim();
    const pass = document.getElementById('loginPass').value.trim();
    if (!user || !pass) {msg('loginMsg', 'Fill all fields', 'error'); return;}
    
    localStorage.setItem('username', user);
    if (devNames.includes(user)) {
        msg('loginMsg', '‚úì Dev detected! Enter dev key', 'success');
        document.getElementById('loginBox').style.display = 'none';
        document.getElementById('devBox').style.display = 'block';
        document.getElementById('devUser').value = user;
        document.getElementById('devUser').disabled = true;
    } else {
        localStorage.setItem('isDev', 'false');
        msg('loginMsg', '‚úì Logged! Read ToS', 'success');
        setTimeout(() => {
            document.getElementById('loginBox').style.display = 'none';
            document.getElementById('tosBox').style.display = 'block';
        }, 500);
    }
}

async function devLoginFunc() {
    const user = document.getElementById('devUser').value.trim();
    const key = document.getElementById('devKeyInput').value.trim();
    if (!user || !key) {msg('devMsg', 'Fill all fields', 'error'); return;}
    if (!devNames.includes(user)) {msg('devMsg', 'Invalid username', 'error'); return;}
    
    localStorage.setItem('username', user);
    localStorage.setItem('isDev', 'true');
    localStorage.setItem('devKey', key);
    msg('devMsg', '‚úì Dev access granted!', 'success');
    setTimeout(() => {
        document.getElementById('devBox').style.display = 'none';
        showUserPanel();
    }, 500);
}

function agreeToS() {
    document.getElementById('tosBox').style.display = 'none';
    showUserPanel();
}

function showUserPanel() {
    const user = localStorage.getItem('username');
    const isDev = localStorage.getItem('isDev') === 'true';
    
    document.getElementById('mainMenu').style.display = 'none';
    document.getElementById('createBox').style.display = 'none';
    document.getElementById('loginBox').style.display = 'none';
    document.getElementById('devBox').style.display = 'none';
    document.getElementById('tosBox').style.display = 'none';
    document.getElementById('userBox').style.display = 'block';
    
    document.getElementById('userWelcome').innerText = `Welcome, ${user}! üéâ`;
    
    if (isDev) {
        document.getElementById('devPanelTab').style.display = 'inline-block';
        document.getElementById('scriptFormBox').style.display = 'block';
        document.getElementById('scriptDevOnly').style.display = 'none';
        document.getElementById('gameFormBox').style.display = 'block';
        document.getElementById('gameDevOnly').style.display = 'none';
    } else {
        document.getElementById('scriptFormBox').style.display = 'none';
        document.getElementById('scriptDevOnly').style.display = 'block';
        document.getElementById('gameFormBox').style.display = 'none';
        document.getElementById('gameDevOnly').style.display = 'block';
    }
    
    loadScripts();
    loadGames();
}

function openDashTab(tab) {
    document.getElementById('scriptlibrary').style.display = 'none';
    document.getElementById('games').style.display = 'none';
    document.getElementById(tab).style.display = 'block';
}

function closeDashTab() {
    document.getElementById('scriptlibrary').style.display = 'none';
    document.getElementById('games').style.display = 'none';
}

function logoutFunc() {
    localStorage.clear();
    document.getElementById('devPanelTab').style.display = 'none';
    closeDashTab();
    backMenu();
    showTab('home');
}

function postScript() {
    const user = localStorage.getItem('username');
    const name = document.getElementById('scriptName').value.trim();
    const code = document.getElementById('scriptCode').value.trim();
    if (!name || !code) {msg('scriptMsg', 'Fill all fields', 'error'); return;}
    
    scripts.push({
        id: Date.now(),
        name: name,
        code: code,
        author: user,
        date: new Date().toLocaleDateString()
    });
    msg('scriptMsg', '‚úì Script posted!', 'success');
    document.getElementById('scriptName').value = '';
    document.getElementById('scriptCode').value = '';
    loadScripts();
}

function loadScripts() {
    const list = document.getElementById('scriptsList');
    if (scripts.length === 0) {
        list.innerHTML = '<p style="opacity:0.8;">No scripts yet. Be the first to post!</p>';
        return;
    }
    let html = '';
    scripts.forEach(s => {
        const preview = s.code.substring(0, 100).replace(/</g, '&lt;') + (s.code.length > 100 ? '...' : '');
        html += `<div class="script-card"><h3>${s.name}</h3><div class="script-author">by ${s.author}</div><div class="script-preview">${preview}</div><p style="font-size:0.8rem; opacity:0.6;">${s.date}</p><button class="btn" onclick="copyScript(${s.id})">Copy</button></div>`;
    });
    list.innerHTML = html;
}

function copyScript(id) {
    const script = scripts.find(s => s.id === id);
    if (script) navigator.clipboard.writeText(script.code).then(() => alert('‚úì Copied!'));
}

function postGame() {
    const user = localStorage.getItem('username');
    const name = document.getElementById('gameName').value.trim();
    const link = document.getElementById('gameLink').value.trim();
    if (!name || !link) {msg('gameMsg', 'Fill all fields', 'error'); return;}
    if (!link.includes('roblox.com')) {msg('gameMsg', 'Must be a Roblox link', 'error'); return;}
    
    games.push({
        id: Date.now(),
        name: name,
        link: link,
        author: user,
        date: new Date().toLocaleDateString()
    });
    msg('gameMsg', '‚úì Game posted!', 'success');
    document.getElementById('gameName').value = '';
    document.getElementById('gameLink').value = '';
    loadGames();
}

function loadGames() {
    const list = document.getElementById('gamesList');
    if (games.length === 0) {
        list.innerHTML = '<p style="opacity:0.8;">No games yet. Be the first to post!</p>';
        return;
    }
    let html = '';
    games.forEach(g => {
        html += `<div class="game-card"><h3>${g.name}</h3><div class="script-author">by ${g.author}</div><p>${g.link}</p><p style="font-size:0.8rem; opacity:0.6;">${g.date}</p><button class="btn" onclick="window.open('${g.link}', '_blank')">Open Game</button></div>`;
    });
    list.innerHTML = html;
}

async function loadAccounts() {
    document.getElementById('accountsList').innerHTML = '<p>Dev Panel - Placeholder</p>';
}

window.addEventListener('load', () => {
    const user = localStorage.getItem('username');
    if (user) {
        showTab('dashboard');
        setTimeout(() => showUserPanel(), 100);
    }
});
</script>

</body>
</html>
